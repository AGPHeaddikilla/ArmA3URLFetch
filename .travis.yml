matrix:
  include:
    # works on Precise and Trusty
    - os: linux
      compiler: g++
      language: cpp
      sudo: required
      dist: trusty
      before_install:
      - sudo dpkg --add-architecture i386
      - sudo apt-get update
      - sudo add-apt-repository -y ppa:ubuntu-toolchain-r/test
      - sudo apt-get install build-essential software-properties-common g++-5-multilib gcc-5-multilib libc6-dev libc6-dev:i386 libssl-dev libssl-dev:i386

      #addons:
      #  apt:
      #    sources:
      #    - ubuntu-toolchain-r-test
      #    packages:
      #    - build-essential
      #    - software-properties-common
      #    - g++-5
      #    - gcc-5
      #    - g++-5-multilib
      #    - lib32stdc++-5-dev
      #    - libx32stdc++-5-dev
      #    - cpp-5
      #    - gcc-5-multilib
      #    - gcc-multilib
      #    - gcc
      #    - libc6-dev-x32
      #    - lib32gcc-5-dev
      #    - libx32gcc-5-dev
      #    - libx32stdc++6
      #    - linux-libc-dev:i386
      #    - libssl-dev:i386
      #    - libssl-dev
      #    - libc6-dev
      #    - libc6-dev:i386
      #    - libstdc++6:i386
      #    - libc6:i386
      #    - libc6
      #env:
      #- MATRIX_EVAL="CC=gcc-5 && CXX=g++-5"
      before_script:
      - make curl
      script:
      - find /usr -name "libcurl*"
      - find /usr -name "libssl*"
      - find /usr -name "libcrypto*"
      - make linux32 CXX=g++-5
      - make linux64 CXX=g++-5
      - make testLinux32 CXX=g++-5
      - make testLinux64 CXX=g++-5